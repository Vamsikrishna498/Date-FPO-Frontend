{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import logo from'../assets/rightlogo.png';import Chart from'chart.js/auto';import'../styles/AnalyticsDashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MetricCard=_ref=>{let{label,value,icon,theme='primary',trend=null}=_ref;const themes={primary:{bg:'linear-gradient(135deg, #16a34a 0%, #15803d 100%)',icon:'üìä'},success:{bg:'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',icon:'‚úÖ'},warning:{bg:'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)',icon:'‚ö†Ô∏è'},danger:{bg:'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',icon:'üö®'},info:{bg:'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',icon:'‚ÑπÔ∏è'}};const t=themes[theme]||themes.primary;return/*#__PURE__*/_jsx(\"div\",{className:\"metric-card\",style:{background:t.bg},children:/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-icon\",children:icon||t.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"metric-label\",children:label}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value\",children:value!==null&&value!==void 0?value:'-'}),trend&&/*#__PURE__*/_jsxs(\"div\",{className:\"metric-trend \".concat(trend.type),children:[trend.icon,\" \",trend.value]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-sparkle\",children:\"\\u2728\"})]})});};const ChartCard=_ref2=>{let{title,subtitle,children,theme='default'}=_ref2;const themes={default:{border:'#e2e8f0',accent:'#3b82f6'},success:{border:'#dcfce7',accent:'#22c55e'},warning:{border:'#fef3c7',accent:'#f59e0b'},danger:{border:'#fee2e2',accent:'#ef4444'}};const t=themes[theme]||themes.default;return/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",style:{borderColor:t.border},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-title-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"chart-title\",children:title}),subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"chart-subtitle\",children:subtitle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-accent\",style:{backgroundColor:t.accent}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-content\",children:children})]});};const AnalyticsDashboard=_ref3=>{var _stats$kycApprovedFar;let{role='SUPER_ADMIN'}=_ref3;const navigate=useNavigate();const[stats,setStats]=useState(null);const[topBottom,setTopBottom]=useState({top:[],bottom:[]});const[modeSplit,setModeSplit]=useState([]);const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(true);const[lastUpdated,setLastUpdated]=useState(new Date());const fetchAll=async()=>{try{setError('');setIsLoading(true);// Counts\nconst countsResp=await fetch((process.env.REACT_APP_API_URL||'http://localhost:8080/api')+'/public/dashboard/stats',{credentials:'omit'});if(!countsResp.ok)throw new Error('Failed to fetch public stats: '+countsResp.status);const counts=await countsResp.json();setStats(counts);// Build top/bottom district data from public farmers-with-kyc\nconst farmersResp=await fetch((process.env.REACT_APP_API_URL||'http://localhost:8080/api')+'/public/farmers-with-kyc',{credentials:'omit'});if(!farmersResp.ok)throw new Error('Failed to fetch public farmers: '+farmersResp.status);const farmers=await farmersResp.json();const grouped=(farmers||[]).reduce((acc,f)=>{const d=f.district||'Unknown';const status=(f.kycStatus||'').toUpperCase();const g=acc[d]||{total:0,approved:0};g.total+=1;if(status==='APPROVED')g.approved+=1;acc[d]=g;return acc;},{});const rows=Object.entries(grouped).map(_ref4=>{let[district,g]=_ref4;return{district,rate:g.total?Math.round(g.approved/g.total*100):0};});const sorted=rows.sort((a,b)=>b.rate-a.rate);setTopBottom({top:sorted.slice(0,5),bottom:sorted.slice(-5).reverse()});// Enrollment mode split\nconst mode=[{label:'Assigned',value:(farmers||[]).filter(f=>!!f.assignedEmployee).length},{label:'Unassigned',value:(farmers||[]).filter(f=>!f.assignedEmployee).length}];setModeSplit(mode);setLastUpdated(new Date());}catch(e){var _e$response;console.error(e);setError(((_e$response=e.response)===null||_e$response===void 0?void 0:_e$response.data)||e.message);}finally{setIsLoading(false);}};useEffect(()=>{fetchAll();},[]);useEffect(()=>{const id=setInterval(fetchAll,5*60*1000);// 5 minutes\nreturn()=>clearInterval(id);},[]);const renderBarChart=(canvasId,data,color,title)=>{const ctx=document.getElementById(canvasId);if(!ctx)return;if(ctx._chart){ctx._chart.destroy();}ctx._chart=new Chart(ctx,{type:'bar',data:{labels:data.map(d=>d.district),datasets:[{label:'Approval %',data:data.map(d=>d.rate),backgroundColor:color,borderRadius:8,borderSkipped:false}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},title:{display:true,text:title,color:'#374151',font:{size:16,weight:'bold'}}},scales:{y:{beginAtZero:true,max:100,ticks:{callback:v=>v+'%',color:'#6b7280',font:{size:12}},grid:{color:'#e5e7eb',drawBorder:false}},x:{ticks:{color:'#6b7280',font:{size:12}},grid:{display:false}}}}});};const renderDoughnutChart=(canvasId,data)=>{const ctx=document.getElementById(canvasId);if(!ctx)return;if(ctx._chart)ctx._chart.destroy();// Define specific colors for enrollment mode distribution\nconst getColors=labels=>{return labels.map(label=>{if(label==='Assigned'){return'#16a34a';// Green for assigned\n}else if(label==='Unassigned'){return'#f59e0b';// Orange for unassigned\n}else{return'#3b82f6';// Default blue for other cases\n}});};ctx._chart=new Chart(ctx,{type:'doughnut',data:{labels:data.map(d=>d.label),datasets:[{data:data.map(d=>d.value),backgroundColor:getColors(data.map(d=>d.label)),borderWidth:0,borderRadius:4}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{padding:20,usePointStyle:true,font:{size:12}}}},cutout:'60%'}});};useEffect(()=>{if(topBottom.top.length)renderBarChart('top5',topBottom.top,'linear-gradient(135deg, #16a34a 0%, #15803d 100%)','Top 5 Districts');if(topBottom.bottom.length)renderBarChart('bottom5',topBottom.bottom,'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)','Bottom 5 Districts');},[topBottom]);useEffect(()=>{if(modeSplit.length)renderDoughnutChart('modeSplit',modeSplit);},[modeSplit]);const formatTime=date=>{return date.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',hour12:true});};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"analytics-dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading analytics data...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-dashboard-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-header-left\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"DATE Logo\",className:\"analytics-header-logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-header-text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"analytics-dashboard-title\",children:\"Analytical Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"analytics-dashboard-subtitle\",children:\"Digital Agriculture Technology Enhancement\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-header-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-last-updated\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"analytics-update-icon\",children:\"\\uD83D\\uDD52\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Last updated: \",formatTime(lastUpdated)]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"analytics-refresh-btn\",onClick:fetchAll,children:[/*#__PURE__*/_jsx(\"span\",{className:\"analytics-refresh-icon\",children:\"\\uD83D\\uDD04\"}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"analytics-back-btn\",onClick:()=>navigate(-1),children:[/*#__PURE__*/_jsx(\"span\",{className:\"analytics-back-icon\",children:\"\\u2190\"}),\"Back\"]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-banner\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"metrics-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Key Performance Indicators\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Real-time insights into farmer enrollment and approval metrics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsx(MetricCard,{label:\"Total Beneficiaries\",value:(stats===null||stats===void 0?void 0:stats.totalFarmers)||0,icon:\"\\uD83D\\uDC65\",theme:\"primary\",trend:{type:'positive',value:'+12%',icon:'üìà'}}),/*#__PURE__*/_jsx(MetricCard,{label:\"Total Enrollments\",value:(stats===null||stats===void 0?void 0:stats.totalFarmers)||0,icon:\"\\uD83D\\uDCDD\",theme:\"success\",trend:{type:'positive',value:'+8%',icon:'üìà'}}),/*#__PURE__*/_jsx(MetricCard,{label:\"Enrollment %\",value:stats?\"\".concat(Math.round((stats.approvedFarmers||0)/(stats.totalFarmers||1)*100),\"%\"):'0%',icon:\"\\uD83D\\uDCCA\",theme:\"warning\",trend:{type:'neutral',value:'0%',icon:'‚û°Ô∏è'}}),/*#__PURE__*/_jsx(MetricCard,{label:\"Approved IDs\",value:((_stats$kycApprovedFar=stats===null||stats===void 0?void 0:stats.kycApprovedFarmers)!==null&&_stats$kycApprovedFar!==void 0?_stats$kycApprovedFar:stats===null||stats===void 0?void 0:stats.approvedFarmers)||0,icon:\"\\u2705\",theme:\"info\",trend:{type:'positive',value:'+15%',icon:'üìà'}}),/*#__PURE__*/_jsx(MetricCard,{label:\"Pending Approvals\",value:(stats===null||stats===void 0?void 0:stats.pendingFarmers)||0,icon:\"\\u23F3\",theme:\"danger\",trend:{type:'negative',value:'-5%',icon:'üìâ'}})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"charts-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Farmer Enrollment Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"District-wise approval rates and enrollment distribution\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsx(ChartCard,{title:\"Top 5 Districts - Approval Rate\",subtitle:\"Highest performing districts\",theme:\"success\",children:/*#__PURE__*/_jsx(\"canvas\",{id:\"top5\",className:\"chart-canvas\"})}),/*#__PURE__*/_jsx(ChartCard,{title:\"Bottom 5 Districts - Approval Rate\",subtitle:\"Districts needing attention\",theme:\"warning\",children:/*#__PURE__*/_jsx(\"canvas\",{id:\"bottom5\",className:\"chart-canvas\"})}),/*#__PURE__*/_jsx(ChartCard,{title:\"Enrollment Mode Distribution\",subtitle:\"Assigned vs Unassigned farmers\",theme:\"info\",children:/*#__PURE__*/_jsx(\"canvas\",{id:\"modeSplit\",className:\"chart-canvas\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"insights-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Quick Insights\"}),/*#__PURE__*/_jsx(\"p\",{className:\"section-description\",children:\"Key observations and recommendations\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insights-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card positive\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"insight-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"High Performance\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Top districts show excellent approval rates above 80%\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"insight-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Attention Needed\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Bottom districts require immediate intervention\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"insight-icon\",children:\"\\uD83D\\uDCC8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Growth Trend\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Overall enrollment shows positive growth pattern\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"insight-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"System Health\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Data refresh working correctly every 5 minutes\"})]})]})]})]})]})]});};export default AnalyticsDashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","logo","Chart","jsx","_jsx","jsxs","_jsxs","MetricCard","_ref","label","value","icon","theme","trend","themes","primary","bg","success","warning","danger","info","t","className","style","background","children","concat","type","ChartCard","_ref2","title","subtitle","default","border","accent","borderColor","backgroundColor","AnalyticsDashboard","_ref3","_stats$kycApprovedFar","role","navigate","stats","setStats","topBottom","setTopBottom","top","bottom","modeSplit","setModeSplit","error","setError","isLoading","setIsLoading","lastUpdated","setLastUpdated","Date","fetchAll","countsResp","fetch","process","env","REACT_APP_API_URL","credentials","ok","Error","status","counts","json","farmersResp","farmers","grouped","reduce","acc","f","d","district","kycStatus","toUpperCase","g","total","approved","rows","Object","entries","map","_ref4","rate","Math","round","sorted","sort","a","b","slice","reverse","mode","filter","assignedEmployee","length","e","_e$response","console","response","data","message","id","setInterval","clearInterval","renderBarChart","canvasId","color","ctx","document","getElementById","_chart","destroy","labels","datasets","borderRadius","borderSkipped","options","responsive","maintainAspectRatio","plugins","legend","display","text","font","size","weight","scales","y","beginAtZero","max","ticks","callback","v","grid","drawBorder","x","renderDoughnutChart","getColors","borderWidth","position","padding","usePointStyle","cutout","formatTime","date","toLocaleTimeString","hour","minute","hour12","src","alt","onClick","totalFarmers","approvedFarmers","kycApprovedFarmers","pendingFarmers"],"sources":["C:/karthik cc/date-frontend/src/pages/AnalyticsDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport logo from '../assets/rightlogo.png';\r\nimport Chart from 'chart.js/auto';\r\nimport '../styles/AnalyticsDashboard.css';\r\n\r\nconst MetricCard = ({ label, value, icon, theme = 'primary', trend = null }) => {\r\n  const themes = {\r\n    primary: { bg: 'linear-gradient(135deg, #16a34a 0%, #15803d 100%)', icon: 'üìä' },\r\n    success: { bg: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)', icon: '‚úÖ' },\r\n    warning: { bg: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)', icon: '‚ö†Ô∏è' },\r\n    danger: { bg: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)', icon: 'üö®' },\r\n    info: { bg: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)', icon: '‚ÑπÔ∏è' }\r\n  };\r\n  \r\n  const t = themes[theme] || themes.primary;\r\n  \r\n  return (\r\n    <div className=\"metric-card\" style={{ background: t.bg }}>\r\n      <div className=\"metric-card-content\">\r\n        <div className=\"metric-icon\">{icon || t.icon}</div>\r\n        <div className=\"metric-info\">\r\n          <div className=\"metric-label\">{label}</div>\r\n          <div className=\"metric-value\">{value ?? '-'}</div>\r\n          {trend && (\r\n            <div className={`metric-trend ${trend.type}`}>\r\n              {trend.icon} {trend.value}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"metric-sparkle\">‚ú®</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ChartCard = ({ title, subtitle, children, theme = 'default' }) => {\r\n  const themes = {\r\n    default: { border: '#e2e8f0', accent: '#3b82f6' },\r\n    success: { border: '#dcfce7', accent: '#22c55e' },\r\n    warning: { border: '#fef3c7', accent: '#f59e0b' },\r\n    danger: { border: '#fee2e2', accent: '#ef4444' }\r\n  };\r\n  \r\n  const t = themes[theme] || themes.default;\r\n  \r\n  return (\r\n    <div className=\"chart-card\" style={{ borderColor: t.border }}>\r\n      <div className=\"chart-header\">\r\n        <div className=\"chart-title-section\">\r\n          <h3 className=\"chart-title\">{title}</h3>\r\n          {subtitle && <p className=\"chart-subtitle\">{subtitle}</p>}\r\n        </div>\r\n        <div className=\"chart-accent\" style={{ backgroundColor: t.accent }}></div>\r\n      </div>\r\n      <div className=\"chart-content\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AnalyticsDashboard = ({ role = 'SUPER_ADMIN' }) => {\r\n  const navigate = useNavigate();\r\n  const [stats, setStats] = useState(null);\r\n  const [topBottom, setTopBottom] = useState({ top: [], bottom: [] });\r\n  const [modeSplit, setModeSplit] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [lastUpdated, setLastUpdated] = useState(new Date());\r\n\r\n  const fetchAll = async () => {\r\n    try {\r\n      setError('');\r\n      setIsLoading(true);\r\n      \r\n      // Counts\r\n      const countsResp = await fetch((process.env.REACT_APP_API_URL || 'http://localhost:8080/api') + '/public/dashboard/stats', { credentials: 'omit' });\r\n      if (!countsResp.ok) throw new Error('Failed to fetch public stats: ' + countsResp.status);\r\n      const counts = await countsResp.json();\r\n      setStats(counts);\r\n      \r\n      // Build top/bottom district data from public farmers-with-kyc\r\n      const farmersResp = await fetch((process.env.REACT_APP_API_URL || 'http://localhost:8080/api') + '/public/farmers-with-kyc', { credentials: 'omit' });\r\n      if (!farmersResp.ok) throw new Error('Failed to fetch public farmers: ' + farmersResp.status);\r\n      const farmers = await farmersResp.json();\r\n      \r\n      const grouped = (farmers || []).reduce((acc, f) => {\r\n        const d = f.district || 'Unknown';\r\n        const status = (f.kycStatus || '').toUpperCase();\r\n        const g = acc[d] || { total: 0, approved: 0 };\r\n        g.total += 1; \r\n        if (status === 'APPROVED') g.approved += 1; \r\n        acc[d] = g; \r\n        return acc;\r\n      }, {});\r\n      \r\n      const rows = Object.entries(grouped).map(([district, g]) => ({ \r\n        district, \r\n        rate: g.total ? Math.round((g.approved / g.total) * 100) : 0 \r\n      }));\r\n      \r\n      const sorted = rows.sort((a, b) => b.rate - a.rate);\r\n      setTopBottom({ top: sorted.slice(0, 5), bottom: sorted.slice(-5).reverse() });\r\n      \r\n      // Enrollment mode split\r\n      const mode = [\r\n        { label: 'Assigned', value: (farmers || []).filter(f => !!f.assignedEmployee).length },\r\n        { label: 'Unassigned', value: (farmers || []).filter(f => !f.assignedEmployee).length },\r\n      ];\r\n      setModeSplit(mode);\r\n      \r\n      setLastUpdated(new Date());\r\n    } catch (e) {\r\n      console.error(e);\r\n      setError(e.response?.data || e.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetchAll(); }, []);\r\n  useEffect(() => {\r\n    const id = setInterval(fetchAll, 5 * 60 * 1000); // 5 minutes\r\n    return () => clearInterval(id);\r\n  }, []);\r\n\r\n  const renderBarChart = (canvasId, data, color, title) => {\r\n    const ctx = document.getElementById(canvasId);\r\n    if (!ctx) return;\r\n    \r\n    if (ctx._chart) { ctx._chart.destroy(); }\r\n    \r\n    ctx._chart = new Chart(ctx, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: data.map(d => d.district),\r\n        datasets: [{ \r\n          label: 'Approval %', \r\n          data: data.map(d => d.rate), \r\n          backgroundColor: color,\r\n          borderRadius: 8,\r\n          borderSkipped: false,\r\n        }]\r\n      },\r\n      options: {\r\n        responsive: true, \r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            display: false\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: title,\r\n            color: '#374151',\r\n            font: {\r\n              size: 16,\r\n              weight: 'bold'\r\n            }\r\n          }\r\n        },\r\n        scales: { \r\n          y: { \r\n            beginAtZero: true, \r\n            max: 100, \r\n            ticks: { \r\n              callback: v => v + '%',\r\n              color: '#6b7280',\r\n              font: {\r\n                size: 12\r\n              }\r\n            },\r\n            grid: {\r\n              color: '#e5e7eb',\r\n              drawBorder: false\r\n            }\r\n          },\r\n          x: {\r\n            ticks: {\r\n              color: '#6b7280',\r\n              font: {\r\n                size: 12\r\n              }\r\n            },\r\n            grid: {\r\n              display: false\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const renderDoughnutChart = (canvasId, data) => {\r\n    const ctx = document.getElementById(canvasId);\r\n    if (!ctx) return;\r\n    \r\n    if (ctx._chart) ctx._chart.destroy();\r\n    \r\n    // Define specific colors for enrollment mode distribution\r\n    const getColors = (labels) => {\r\n      return labels.map(label => {\r\n        if (label === 'Assigned') {\r\n          return '#16a34a'; // Green for assigned\r\n        } else if (label === 'Unassigned') {\r\n          return '#f59e0b'; // Orange for unassigned\r\n        } else {\r\n          return '#3b82f6'; // Default blue for other cases\r\n        }\r\n      });\r\n    };\r\n    \r\n    ctx._chart = new Chart(ctx, {\r\n      type: 'doughnut',\r\n      data: {\r\n        labels: data.map(d => d.label),\r\n        datasets: [{ \r\n          data: data.map(d => d.value), \r\n          backgroundColor: getColors(data.map(d => d.label)),\r\n          borderWidth: 0,\r\n          borderRadius: 4\r\n        }]\r\n      },\r\n      options: { \r\n        responsive: true, \r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: 'bottom',\r\n            labels: {\r\n              padding: 20,\r\n              usePointStyle: true,\r\n              font: {\r\n                size: 12\r\n              }\r\n            }\r\n          }\r\n        },\r\n        cutout: '60%'\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (topBottom.top.length) renderBarChart('top5', topBottom.top, 'linear-gradient(135deg, #16a34a 0%, #15803d 100%)', 'Top 5 Districts');\r\n    if (topBottom.bottom.length) renderBarChart('bottom5', topBottom.bottom, 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)', 'Bottom 5 Districts');\r\n  }, [topBottom]);\r\n\r\n  useEffect(() => { \r\n    if (modeSplit.length) renderDoughnutChart('modeSplit', modeSplit); \r\n  }, [modeSplit]);\r\n\r\n  const formatTime = (date) => {\r\n    return date.toLocaleTimeString('en-US', { \r\n      hour: '2-digit', \r\n      minute: '2-digit',\r\n      hour12: true \r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"analytics-dashboard\">\r\n        <div className=\"loading-container\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Loading analytics data...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"analytics-dashboard\">\r\n             {/* Header Section */}\r\n       <div className=\"analytics-dashboard-header\">\r\n         <div className=\"analytics-header-left\">\r\n           <img src={logo} alt=\"DATE Logo\" className=\"analytics-header-logo\" />\r\n           <div className=\"analytics-header-text\">\r\n             <h1 className=\"analytics-dashboard-title\">Analytical Dashboard</h1>\r\n             <p className=\"analytics-dashboard-subtitle\">Digital Agriculture Technology Enhancement</p>\r\n           </div>\r\n         </div>\r\n         <div className=\"analytics-header-right\">\r\n           <div className=\"analytics-last-updated\">\r\n             <span className=\"analytics-update-icon\">üïí</span>\r\n             <span>Last updated: {formatTime(lastUpdated)}</span>\r\n           </div>\r\n           <button className=\"analytics-refresh-btn\" onClick={fetchAll}>\r\n             <span className=\"analytics-refresh-icon\">üîÑ</span>\r\n             Refresh\r\n           </button>\r\n           <button className=\"analytics-back-btn\" onClick={() => navigate(-1)}>\r\n             <span className=\"analytics-back-icon\">‚Üê</span>\r\n             Back\r\n           </button>\r\n         </div>\r\n       </div>\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div className=\"error-banner\">\r\n          <span className=\"error-icon\">‚ö†Ô∏è</span>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <div className=\"dashboard-content\">\r\n        {/* Metrics Section */}\r\n        <section className=\"metrics-section\">\r\n          <div className=\"section-header\">\r\n            <h2 className=\"section-title\">Key Performance Indicators</h2>\r\n            <p className=\"section-description\">Real-time insights into farmer enrollment and approval metrics</p>\r\n          </div>\r\n          \r\n          <div className=\"metrics-grid\">\r\n            <MetricCard \r\n              label=\"Total Beneficiaries\" \r\n              value={stats?.totalFarmers || 0}\r\n              icon=\"üë•\"\r\n              theme=\"primary\"\r\n              trend={{ type: 'positive', value: '+12%', icon: 'üìà' }}\r\n            />\r\n            <MetricCard \r\n              label=\"Total Enrollments\" \r\n              value={stats?.totalFarmers || 0}\r\n              icon=\"üìù\"\r\n              theme=\"success\"\r\n              trend={{ type: 'positive', value: '+8%', icon: 'üìà' }}\r\n            />\r\n            <MetricCard \r\n              label=\"Enrollment %\" \r\n              value={stats ? `${Math.round(((stats.approvedFarmers || 0) / (stats.totalFarmers || 1)) * 100)}%` : '0%'}\r\n              icon=\"üìä\"\r\n              theme=\"warning\"\r\n              trend={{ type: 'neutral', value: '0%', icon: '‚û°Ô∏è' }}\r\n            />\r\n            <MetricCard \r\n              label=\"Approved IDs\" \r\n              value={(stats?.kycApprovedFarmers ?? stats?.approvedFarmers) || 0}\r\n              icon=\"‚úÖ\"\r\n              theme=\"info\"\r\n              trend={{ type: 'positive', value: '+15%', icon: 'üìà' }}\r\n            />\r\n            <MetricCard \r\n              label=\"Pending Approvals\" \r\n              value={stats?.pendingFarmers || 0}\r\n              icon=\"‚è≥\"\r\n              theme=\"danger\"\r\n              trend={{ type: 'negative', value: '-5%', icon: 'üìâ' }}\r\n            />\r\n          </div>\r\n        </section>\r\n\r\n        {/* Charts Section */}\r\n        <section className=\"charts-section\">\r\n          <div className=\"section-header\">\r\n            <h2 className=\"section-title\">Farmer Enrollment Analytics</h2>\r\n            <p className=\"section-description\">District-wise approval rates and enrollment distribution</p>\r\n          </div>\r\n          \r\n          <div className=\"charts-grid\">\r\n            <ChartCard \r\n              title=\"Top 5 Districts - Approval Rate\" \r\n              subtitle=\"Highest performing districts\"\r\n              theme=\"success\"\r\n            >\r\n              <canvas id=\"top5\" className=\"chart-canvas\" />\r\n            </ChartCard>\r\n            \r\n            <ChartCard \r\n              title=\"Bottom 5 Districts - Approval Rate\" \r\n              subtitle=\"Districts needing attention\"\r\n              theme=\"warning\"\r\n            >\r\n              <canvas id=\"bottom5\" className=\"chart-canvas\" />\r\n            </ChartCard>\r\n            \r\n            <ChartCard \r\n              title=\"Enrollment Mode Distribution\" \r\n              subtitle=\"Assigned vs Unassigned farmers\"\r\n              theme=\"info\"\r\n            >\r\n              <canvas id=\"modeSplit\" className=\"chart-canvas\" />\r\n            </ChartCard>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Insights Section */}\r\n        <section className=\"insights-section\">\r\n          <div className=\"section-header\">\r\n            <h2 className=\"section-title\">Quick Insights</h2>\r\n            <p className=\"section-description\">Key observations and recommendations</p>\r\n          </div>\r\n          \r\n          <div className=\"insights-grid\">\r\n            <div className=\"insight-card positive\">\r\n              <div className=\"insight-icon\">üéØ</div>\r\n              <div className=\"insight-content\">\r\n                <h3>High Performance</h3>\r\n                <p>Top districts show excellent approval rates above 80%</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"insight-card warning\">\r\n              <div className=\"insight-icon\">‚ö†Ô∏è</div>\r\n              <div className=\"insight-content\">\r\n                <h3>Attention Needed</h3>\r\n                <p>Bottom districts require immediate intervention</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"insight-card info\">\r\n              <div className=\"insight-icon\">üìà</div>\r\n              <div className=\"insight-content\">\r\n                <h3>Growth Trend</h3>\r\n                <p>Overall enrollment shows positive growth pattern</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"insight-card success\">\r\n              <div className=\"insight-icon\">‚úÖ</div>\r\n              <div className=\"insight-content\">\r\n                <h3>System Health</h3>\r\n                <p>Data refresh working correctly every 5 minutes</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnalyticsDashboard;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
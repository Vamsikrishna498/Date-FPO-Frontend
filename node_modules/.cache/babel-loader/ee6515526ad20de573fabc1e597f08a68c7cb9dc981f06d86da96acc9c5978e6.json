{"ast":null,"code":"import _objectSpread from\"C:/karthik cc/date-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import ActionDropdown from'./ActionDropdown';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataTable=_ref=>{let{data,columns,onEdit,onDelete,onView,showDelete=false,customActions}=_ref;// Ensure customActions is always an array\nconst safeCustomActions=customActions&&Array.isArray(customActions)?customActions:[];const getStatusClass=status=>{switch(status===null||status===void 0?void 0:status.toLowerCase()){case'approved':return'status-approved';case'pending':return'status-pending';case'refer_back':return'status-refer-back';case'rejected':return'status-rejected';case'assigned':return'status-assigned';case'unassigned':return'status-unassigned';case'active':return'status-approved';case'inactive':return'status-rejected';default:return'status-default';}};// Debug function to safely render values\nconst safeRender=(value,columnKey)=>{try{// If value is an object, try to extract meaningful data\nif(value&&typeof value==='object'){// Prefer explicit name fields\nconst name=value.name||[value.firstName,value.middleName,value.lastName].filter(Boolean).join(' ')||[value.firstName,value.lastName].filter(Boolean).join(' ')||value.fullName||value.employeeName||value.email||value.userName;if(name&&String(name).trim().length)return String(name);// Fallbacks\nif(value.id!==undefined)return\"#\".concat(value.id);try{const preview=JSON.stringify(value);return preview.length<=60?preview:'N/A';}catch(_){return'N/A';}}// If value is null or undefined, return 'N/A'\nif(value===null||value===undefined){return'N/A';}// If value is a string, number, or boolean, return it as string\nreturn String(value);}catch(error){console.error(\"DataTable: Error rendering value for column \".concat(columnKey,\":\"),error);return'Error';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"data-table-container\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[columns&&Array.isArray(columns)&&columns.map((column,index)=>/*#__PURE__*/_jsx(\"th\",{children:column.label},index)),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data&&Array.isArray(data)&&data.map((row,rowIndex)=>/*#__PURE__*/_jsxs(\"tr\",{children:[columns&&Array.isArray(columns)&&columns.map((column,colIndex)=>/*#__PURE__*/_jsx(\"td\",{children:(()=>{if(!row||typeof row!=='object')return'N/A';const value=row[column.key];// Handle status fields with special styling\nif(column.key==='kycStatus'||column.key==='assignmentStatus'||column.key==='status'||column.key==='accessStatus'){return/*#__PURE__*/_jsx(\"span\",{className:getStatusClass(value),children:safeRender(value,column.key)});}// Handle date fields\nif(column.key==='registrationDate'||column.key==='assignedDate'){return value?new Date(value).toLocaleDateString():'N/A';}// Handle name fields (combine firstName, middleName, and lastName if needed)\nif(column.key==='name'){if(row.firstName||row.lastName){const parts=[row.firstName,row.middleName,row.lastName].filter(Boolean);return parts.length>0?parts.join(' '):'N/A';}else if(row.name){return row.name;}else{return'N/A';}}// Handle assigned employee specifically if value is object\nif(column.key==='assignedEmployee'){return safeRender(value,column.key);}// Handle phone fields\nif(column.key==='phone'||column.key==='phoneNumber'){return row.phoneNumber||row.phone||row.contactNumber||'N/A';}// Handle email fields\nif(column.key==='email'||column.key==='emailAddress'){return row.email||row.emailAddress||'N/A';}return safeRender(value,column.key);})()},colIndex)),/*#__PURE__*/_jsx(\"td\",{children:row&&/*#__PURE__*/_jsx(ActionDropdown,{item:row,onEdit:onEdit?()=>onEdit(row):undefined,onDelete:showDelete&&onDelete?()=>onDelete(row):undefined,onView:onView?()=>onView(row):undefined,customActions:safeCustomActions.map(action=>_objectSpread(_objectSpread({},action),{},{onClick:()=>action.onClick(row)}))})})]},rowIndex))})]}),(!data||!Array.isArray(data)||data.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No data available\"})})]});};export default DataTable;","map":{"version":3,"names":["React","ActionDropdown","jsx","_jsx","jsxs","_jsxs","DataTable","_ref","data","columns","onEdit","onDelete","onView","showDelete","customActions","safeCustomActions","Array","isArray","getStatusClass","status","toLowerCase","safeRender","value","columnKey","name","firstName","middleName","lastName","filter","Boolean","join","fullName","employeeName","email","userName","String","trim","length","id","undefined","concat","preview","JSON","stringify","_","error","console","className","children","map","column","index","label","row","rowIndex","colIndex","key","Date","toLocaleDateString","parts","phoneNumber","phone","contactNumber","emailAddress","item","action","_objectSpread","onClick"],"sources":["C:/karthik cc/date-frontend/src/components/DataTable.jsx"],"sourcesContent":["import React from 'react';\r\nimport ActionDropdown from './ActionDropdown';\r\n\r\nconst DataTable = ({ data, columns, onEdit, onDelete, onView, showDelete = false, customActions }) => {\r\n\r\n  \r\n  // Ensure customActions is always an array\r\n  const safeCustomActions = customActions && Array.isArray(customActions) ? customActions : [];\r\n  \r\n  const getStatusClass = (status) => {\r\n    switch (status?.toLowerCase()) {\r\n      case 'approved':\r\n        return 'status-approved';\r\n      case 'pending':\r\n        return 'status-pending';\r\n      case 'refer_back':\r\n        return 'status-refer-back';\r\n      case 'rejected':\r\n        return 'status-rejected';\r\n      case 'assigned':\r\n        return 'status-assigned';\r\n      case 'unassigned':\r\n        return 'status-unassigned';\r\n      case 'active':\r\n        return 'status-approved';\r\n      case 'inactive':\r\n        return 'status-rejected';\r\n      default:\r\n        return 'status-default';\r\n    }\r\n  };\r\n\r\n  // Debug function to safely render values\r\n  const safeRender = (value, columnKey) => {\r\n    try {\r\n      // If value is an object, try to extract meaningful data\r\n      if (value && typeof value === 'object') {\r\n        // Prefer explicit name fields\r\n        const name = value.name\r\n          || [value.firstName, value.middleName, value.lastName].filter(Boolean).join(' ')\r\n          || [value.firstName, value.lastName].filter(Boolean).join(' ')\r\n          || value.fullName\r\n          || value.employeeName\r\n          || value.email\r\n          || value.userName;\r\n        if (name && String(name).trim().length) return String(name);\r\n\r\n        // Fallbacks\r\n        if (value.id !== undefined) return `#${value.id}`;\r\n        try {\r\n          const preview = JSON.stringify(value);\r\n          return preview.length <= 60 ? preview : 'N/A';\r\n        } catch (_) {\r\n          return 'N/A';\r\n        }\r\n      }\r\n      \r\n      // If value is null or undefined, return 'N/A'\r\n      if (value === null || value === undefined) {\r\n        return 'N/A';\r\n      }\r\n      \r\n      // If value is a string, number, or boolean, return it as string\r\n      return String(value);\r\n    } catch (error) {\r\n      console.error(`DataTable: Error rendering value for column ${columnKey}:`, error);\r\n      return 'Error';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"data-table-container\">\r\n      <table className=\"data-table\">\r\n        <thead>\r\n          <tr>\r\n            {columns && Array.isArray(columns) && columns.map((column, index) => (\r\n              <th key={index}>{column.label}</th>\r\n            ))}\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data && Array.isArray(data) && data.map((row, rowIndex) => (\r\n            <tr key={rowIndex}>\r\n              {columns && Array.isArray(columns) && columns.map((column, colIndex) => (\r\n                <td key={colIndex}>\r\n                  {(() => {\r\n                    if (!row || typeof row !== 'object') return 'N/A';\r\n                    const value = row[column.key];\r\n                    \r\n                    // Handle status fields with special styling\r\n                    if (column.key === 'kycStatus' || column.key === 'assignmentStatus' || column.key === 'status' || column.key === 'accessStatus') {\r\n                      return (\r\n                        <span className={getStatusClass(value)}>\r\n                          {safeRender(value, column.key)}\r\n                        </span>\r\n                      );\r\n                    }\r\n                    \r\n                    // Handle date fields\r\n                    if (column.key === 'registrationDate' || column.key === 'assignedDate') {\r\n                      return value ? new Date(value).toLocaleDateString() : 'N/A';\r\n                    }\r\n                    \r\n                    // Handle name fields (combine firstName, middleName, and lastName if needed)\r\n                    if (column.key === 'name') {\r\n                      if (row.firstName || row.lastName) {\r\n                        const parts = [row.firstName, row.middleName, row.lastName].filter(Boolean);\r\n                        return parts.length > 0 ? parts.join(' ') : 'N/A';\r\n                      } else if (row.name) {\r\n                        return row.name;\r\n                      } else {\r\n                        return 'N/A';\r\n                      }\r\n                    }\r\n                    \r\n                    // Handle assigned employee specifically if value is object\r\n                    if (column.key === 'assignedEmployee') {\r\n                      return safeRender(value, column.key);\r\n                    }\r\n                    \r\n                    // Handle phone fields\r\n                    if (column.key === 'phone' || column.key === 'phoneNumber') {\r\n                      return row.phoneNumber || row.phone || row.contactNumber || 'N/A';\r\n                    }\r\n                    \r\n                    // Handle email fields\r\n                    if (column.key === 'email' || column.key === 'emailAddress') {\r\n                      return row.email || row.emailAddress || 'N/A';\r\n                    }\r\n                    \r\n                    return safeRender(value, column.key);\r\n                  })()}\r\n                </td>\r\n              ))}\r\n              <td>\r\n                {row && (\r\n                  <ActionDropdown\r\n                    item={row}\r\n                    onEdit={onEdit ? () => onEdit(row) : undefined}\r\n                    onDelete={showDelete && onDelete ? () => onDelete(row) : undefined}\r\n                    onView={onView ? () => onView(row) : undefined}\r\n                    customActions={safeCustomActions.map(action => ({\r\n                      ...action,\r\n                      onClick: () => action.onClick(row)\r\n                    }))}\r\n                  />\r\n                )}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      {(!data || !Array.isArray(data) || data.length === 0) && (\r\n        <div className=\"no-data\">\r\n          <p>No data available</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataTable; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}